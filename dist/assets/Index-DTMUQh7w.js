import{r as g,M as S,Y as U,y as d,o as u,I as a,z as v,S as x,j as i,k as n,_ as f,i as y,h as M,K as C,Q as w,N as E,R as z}from"./index-D-2dwNxd.js";import{u as P}from"./useResponsive-BGpexq8D.js";import{u as B,L as D}from"./auth-Bls5Ri82.js";import{_ as k}from"./index-BKR8Pv7x.js";import{X as R}from"./x-BD91R_ym.js";import{_ as W}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./api-1FZ4QQiz.js";const A={class:"w-full h-screen box-border flex flex-col items-center justify-center"},I={class:"w-full box-border px-8"},T={class:"w-full mb-8"},K={class:"font-bold text-xl"},Q={class:"w-full"},X={key:0,class:"text-xs bg-red-500 rounded-[4px] px-4 pr-2 py-2 text-background relative flex items-start justify-between mb-5"},Y={key:1,class:"w-full box-border"},q={class:"w-full mb-5"},F={class:"w-full mb-5"},G={class:"w-full"},H={key:0},J={key:2},O={class:"w-full"},Z={key:2,class:"w-full box-border"},ee={class:"w-full mb-5"},se={class:"w-full mb-5"},ae={class:"w-full mb-5"},le={class:"w-full mb-5"},oe={class:"w-full"},re={key:0},te={key:2},ne={class:"w-full"},ue={class:"text-center text-muted-foreground"},ie={__name:"LoginMobile",setup(V){const l=g(!1),h=S(),_=B(),p=U({email:"",password:""}),t=U({email:"",nama:"",telp:"",password:""}),o=g({}),m=g(null),c=g("login"),N=r=>{c.value=r,$()},$=()=>{p.email="",p.password="",t.email="",t.nama="",t.telp="",t.password="",o.value={},m.value=null,l.value=!1},j=async()=>{if(!l.value){l.value=!0,m.value=null;try{const r=await _.login(p);h.go(-1)}catch(r){if(r.response&&r.response.status===422){const e=r.response.data.errors,s={};for(const b in e)s[b]=e[b][0];o.value=s}m.value=r.response.data.message}finally{l.value=!1}}},L=async()=>{if(!l.value){l.value=!0;try{const r=await _.register(t);location.reload()}catch(r){if(r.response&&r.response.status===422){const e=r.response.data.errors,s={};for(const b in e)s[b]=e[b][0];o.value=s}m.value=r.response.data.message}finally{l.value=!1}}};return(r,e)=>(u(),d("div",A,[a("div",I,[a("div",T,[a("div",K,x(c.value=="login"?"Masuk":"Daftar"),1),a("div",Q,x(c.value=="login"?"Silahkan login untuk berpartisipasi dalam penawaran.":"Daftarkan diri anda dan tawarkan barang anda."),1)]),m.value?(u(),d("div",X,[a("div",null,x(m.value),1),i(n(R),{class:"size-4 cursor-pointer",onClick:e[0]||(e[0]=s=>m.value=null)})])):v("",!0),c.value=="login"?(u(),d("div",Y,[a("div",q,[i(n(f),{label:"Email",modelValue:p.email,"onUpdate:modelValue":e[1]||(e[1]=s=>p.email=s),errorMessage:o.value.email,"onUpdate:errorMessage":e[2]||(e[2]=s=>o.value.email=s)},null,8,["modelValue","errorMessage"])]),a("div",F,[i(n(f),{label:"Password",modelValue:p.password,"onUpdate:modelValue":e[3]||(e[3]=s=>p.password=s),type:"password",errorMessage:o.value.password,"onUpdate:errorMessage":e[4]||(e[4]=s=>o.value.password=s)},null,8,["modelValue","errorMessage"])]),a("div",G,[i(n(k),{onClick:w(j,["prevent"]),type:"submit",class:C(["w-full rounded-[4px] h-12 cursor-pointer mb-5 flex items-center justify-center",l.value?"bg-blue-400 hover:bg-blue-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"])},{default:y(()=>[l.value?v("",!0):(u(),d("div",H,"Masuk")),l.value?(u(),M(n(D),{key:1,class:"size-5 animate-spin"})):v("",!0),l.value?(u(),d("div",J,"Please Wait")):v("",!0)]),_:1},8,["class"])]),e[16]||(e[16]=a("div",{class:"w-full box-border flex items-center justify-center flex-col relative mb-5"},[a("div",{class:"w-full h-px bg-border"}),a("div",{class:"absolute bg-white px-3 text-[12px]"},"Atau")],-1)),a("div",O,[i(n(k),{onClick:e[5]||(e[5]=w(s=>N("register"),["prevent"])),variant:"outline",type:"button",class:"w-full h-12 rounded-[4px] cursor-pointer border-primary"},{default:y(()=>e[15]||(e[15]=[E(" Daftar ",-1)])),_:1,__:[15]})])])):(u(),d("div",Z,[a("div",ee,[i(n(f),{label:"Nama / Toko",modelValue:t.nama,"onUpdate:modelValue":e[6]||(e[6]=s=>t.nama=s),errorMessage:o.value.nama,"onUpdate:errorMessage":e[7]||(e[7]=s=>o.value.nama=s)},null,8,["modelValue","errorMessage"])]),a("div",se,[i(n(f),{label:"Email",modelValue:t.email,"onUpdate:modelValue":e[8]||(e[8]=s=>t.email=s),errorMessage:o.value.email,"onUpdate:errorMessage":e[9]||(e[9]=s=>o.value.email=s)},null,8,["modelValue","errorMessage"])]),a("div",ae,[i(n(f),{label:"No. Whatsapp",modelValue:t.telp,"onUpdate:modelValue":e[10]||(e[10]=s=>t.telp=s),errorMessage:o.value.telp,"onUpdate:errorMessage":e[11]||(e[11]=s=>o.value.telp=s)},null,8,["modelValue","errorMessage"])]),a("div",le,[i(n(f),{label:"Password",modelValue:t.password,"onUpdate:modelValue":e[12]||(e[12]=s=>t.password=s),type:"password",errorMessage:o.value.password,"onUpdate:errorMessage":e[13]||(e[13]=s=>o.value.password=s)},null,8,["modelValue","errorMessage"])]),a("div",oe,[i(n(k),{onClick:w(L,["prevent"]),type:"submit",class:C(["w-full rounded-[4px] h-12 cursor-pointer mb-5 flex items-center justify-center",l.value?"bg-blue-400 hover:bg-blue-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"])},{default:y(()=>[l.value?v("",!0):(u(),d("div",re,"Daftar")),l.value?(u(),M(n(D),{key:1,class:"size-5 animate-spin"})):v("",!0),l.value?(u(),d("div",te,"Please Wait")):v("",!0)]),_:1},8,["class"]),a("div",ne,[a("p",ue,[e[17]||(e[17]=E("Sudah punya akun ? ",-1)),a("a",{href:"#",onClick:e[14]||(e[14]=w(s=>c.value="login",["prevent"])),class:"text-blue-600"},"Login")])])])]))])]))}},de={};function pe(V,l){return u(),d("div",null,"login dekstop")}const me=W(de,[["render",pe]]),xe={__name:"Index",setup(V){const{isMobile:l}=P();return(h,_)=>(u(),M(z(n(l)?ie:me)))}};export{xe as default};
