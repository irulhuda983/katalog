import{i as S}from"./DialogTitle-BET6B88U.js";import{r as f,e as v,A as w,aa as $,d,w as g,ae as h,af as p,ag as E,B as k,ac as P}from"./index-D-2dwNxd.js";function j(e){const i=S({dir:f("ltr")});return v(()=>{var n;return(e==null?void 0:e.value)||((n=i.dir)==null?void 0:n.value)||"ltr"})}function A(){const e=f(),i=v(()=>{var n,s;return["#text","#comment"].includes((n=e.value)==null?void 0:n.$el.nodeName)?(s=e.value)==null?void 0:s.$el.nextElementSibling:w(e)});return{primitiveElement:e,currentElement:i}}const C="data-reka-collection-item";function N(e={}){const{key:i="",isProvider:n=!1}=e,s=`${i}CollectionProvider`;let t;if(n){const l=f(new Map);t={collectionRef:f(),itemMap:l},P(s,t)}else t=$(s);const M=(l=!1)=>{const o=t.collectionRef.value;if(!o)return[];const r=Array.from(o.querySelectorAll(`[${C}]`)),a=Array.from(t.itemMap.value.values()).sort((u,m)=>r.indexOf(u.ref)-r.indexOf(m.ref));return l?a:a.filter(u=>u.ref.dataset.disabled!=="")},x=d({name:"CollectionSlot",setup(l,{slots:o}){const{primitiveElement:r,currentElement:c}=A();return k(c,()=>{t.collectionRef.value=c.value}),()=>p(E,{ref:r},o)}}),y=d({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(l,{slots:o,attrs:r}){const{primitiveElement:c,currentElement:a}=A();return g(u=>{if(a.value){const m=h(a.value);t.itemMap.value.set(m,{ref:a.value,value:l.value}),u(()=>t.itemMap.value.delete(m))}}),()=>p(E,{...r,[C]:"",ref:c},o)}}),I=v(()=>Array.from(t.itemMap.value.values())),R=v(()=>t.itemMap.value.size);return{getItems:M,reactiveItems:I,itemMapSize:R,CollectionSlot:x,CollectionItem:y}}export{j as a,A as b,N as u};
