import{Q as m,a9 as g,L as h,O as P,b as C,C as l,B as d,u as O,t as p,S as I,F as _,d as v,a5 as w,m as x,aa as L,N as c}from"./index-Ck4f6oB1.js";const s=new WeakMap,b=(...t)=>{var n;const r=t[0],e=(n=m())==null?void 0:n.proxy;if(e==null&&!g())throw new Error("injectLocal must be called in setup");return e&&s.has(e)&&r in s.get(e)?s.get(e)[r]:h(...t)};function j(t,n){var r;const e=(r=m())==null?void 0:r.proxy;if(e==null)throw new Error("provideLocal must be called in setup");s.has(e)||s.set(e,Object.create(null));const a=s.get(e);return a[t]=n,P(t,n)}function A(t,n){const r=Symbol(t.name||"InjectionState"),e=void 0;return[(...u)=>{const i=t(...u);return j(r,i),i},()=>b(r,e)]}function k(t){if(!l(t))return d(t);const n=new Proxy({},{get(r,e,a){return O(Reflect.get(t.value,e,a))},set(r,e,a){return l(t.value[e])&&!l(a)?t.value[e].value=a:t.value[e]=a,!0},deleteProperty(r,e){return Reflect.deleteProperty(t.value,e)},has(r,e){return Reflect.has(t.value,e)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return d(n)}function E(t){return k(C(t))}function M(t,...n){const r=n.flat(),e=r[0];return E(()=>Object.fromEntries(typeof e=="function"?Object.entries(p(t)).filter(([a,o])=>!e(I(o),a)):Object.entries(p(t)).filter(a=>!r.includes(a[0]))))}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const T=t=>typeof t<"u";function y(t){return t?t.flatMap(n=>n.type===_?y(n.children):[n]):[]}const N=v({name:"PrimitiveSlot",inheritAttrs:!1,setup(t,{attrs:n,slots:r}){return()=>{var f;if(!r.default)return null;const e=y(r.default()),a=e.findIndex(S=>S.type!==w);if(a===-1)return e;const o=e[a];(f=o.props)==null||delete f.ref;const u=o.props?x(n,o.props):n,i=L({...o,props:{}},u);return e.length===1?i:(e[a]=i,e)}}}),F=["area","img","input"],V=v({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(t,{attrs:n,slots:r}){const e=t.asChild?"template":t.as;return typeof e=="string"&&F.includes(e)?()=>c(e,n):e!=="template"?()=>c(t.as,n,{default:r.default}):()=>c(N,n,{default:r.default})}});export{V as P,N as S,y as a,A as c,T as i,M as r};
